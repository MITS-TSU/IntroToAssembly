# Отладчик. Прерывания 


- [Слайды](https://docs.google.com/presentation/d/1xhGBAFwGLSKRS-0w6UN-2Opv73r_B3t7WI-N7qnMRR4/edit?usp=sharing)
- [Запись лекции](#)

## Домашка

1. **Теория. Прыжки (200)**

    Объяснить своими словами что делают следующие комманды:

    ```assembly
    jmp label
    je  label
    jl  label
    jle label
    jg  label
    jge label
    ```

    label -  некоторая метка в коде.

    *Для выполнения задания можно использовавть отладчик, чтобы своими ручками выяснить что происходит.
    Код можно вставить в нашу программу самостоятельно как мы делали на паре.

    
    __Ожидаемый формат ответа:__ объяснение своими словами.

2. **Echo (300)**

    Написать программу echo, которая считывает строку фиксированной длины и затем выводит ее на экран.
    ```assembly
    global _start
    section .text

    _start:

        mov     eax, 1
        mov     ebx, 0
        int     0x80
    
    section .bss
        buffer: resb 1024
    ```

    Полезные ресурсы:

    1. [Таблица прерывание x86](https://syscalls32.paolostivanin.com/)

   __Ожидаемый формат ответа:__ Текст готовой программы. 

3. **Запись в файл (500)**

    Дописать программу echo так, чтобы она записывала введенную строку в файл с названием
    `my-file.txt`
    
    ```assembly
    global _start
    section .text

    _start:

        mov     eax, 1
        mov     ebx, 0
        int     0x80

    section .data
        filename db './my-file.txt', 0x0
    
    section .bss
        buffer: resb 1024
    ```

    Алгоритм записи строки в файл:
        
     1. открыть файл (sys_open). системное прерывание вернет вам номер файлового дескриптора в регистре eax.
        если произошла ошибка, то в регистре eax будет лежать -1. (Ошибка может возникнуть, если файл не найден)
        
        Параметры вызова: 
        
        `flags:` передать 1 (Константа линукс O_WRONLY = 1. Она означает открыть файл на запись)
        
        `mode:` можно игнорировать и ничего не передавать.

    2. записать строку (sys_write)
    3. закрыть файл (sys_close)

    Полезные ресурсы:

    1. [Таблица прерывание x86](https://syscalls32.paolostivanin.com/)


   __Ожидаемый формат ответа:__ Текст готовой программы. 

